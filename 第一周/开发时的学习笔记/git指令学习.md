# git指令学习

## 1.创建仓库

（1）git init：在本地创建一个git仓库

（2）git clone：将远程仓库拉到本地

## 2.文件区域与状态分类

###  1.工作区域

​	包括有工作区（也就是本地文件夹）、暂存区、仓库

###  2.文件状态

1.未跟踪：新创建但未被管理的文件

2.未修改：被管理但未修改的文件

3.已修改：已修改但未到暂存区的文件

4.已暂存：到暂存区的文件

## 3.查看状态

1.git status:用于查看当前目录下的文件状态。

​		补充一个命令：cat 文件名   这个可查看文件名的文件的内容（文件在该目录下）

## 4.提交文件

1.git add 文件名：提交文件到暂存区（更加本质的是将操作提交到暂存区）

​	延展用法：git add *.文件格式：添加该目录下的所有该格式文件，当文件格式没有写时，则添加该文件夹下的所有内容。

2.git rm --cached <file>...:将文件从暂存区移除

3.git commit -m "提交的相关信息":提交暂存区中的文件到仓库

4.git log:查看提交记录。查看的信息包括作者姓名、邮箱、时间、提交信息（git config 所定的名字等作者信息）

补充：可在git log后面加信息，如git log --oneline即可只看到提交信息。

## 5.回退到某一次的提交状态(git reset)

git reset后可以加入三种命令，在其后再加入相应的版本 id

1.--soft：返回版本并保存工作区和暂存区的内容

2.--hard：返回版本并丢弃工作区和暂存区的内容

3.--mixed（默认参数）：回退版本。仅保存工作区的内容

补充：git reflog:用于查看以前的操作前后版本变化

## 6.查看差异（git diff）

1.不加参数：比较工作区和暂存区之间差异的内容。

2.git diff HEAD:比较工作区和版本库(仓库）的差异。

3.git diff --cached ：比较暂存区和版本库（仓库）差异。

4.git diff A版本id B版本id：比较AB两版本间的差异。

补充：HEAD表示最新的版本id。

​			HEAD~n表示上n(具体数字)个版本id。

​			git diff A B 文件名：表示查看AB版本中的文件差异。

5.git diff A分支名 B分支名：查看两分支差异。

## 7.删除文件

1.：删除文件夹对应文件后用git add 文件名 来删除暂存区中的文件

2.：git rm <file> 把文件在工作区和暂存区同时删除

3.git rm --cached <file>:把文件从暂存区中删除，但保留在工作区中

4.git rm -r *:递归删除某个目录下的所有子目录和文件

**注意：删除后要记得提交**

## 8.忽略一些文件（.gitignore)

## 9.分支的基本操作

1.git branch:查看所处分支位置

2.git branch 分支名：仅创建分支名字

3.git checkout 分支名：切换到分支名的分支(易歧义)

4.git switch 分支名：切换到分支名的分支

5.git merge 要被合并的分支：将要被合并的分支合并到当前所在的分支。按回车后自动提交到版本库并要求用户填写提交信息

6.git branch -d 已被合并的分支名：删除已被合并的分支

7.git branch -D 分支名：强制删除分支。

8.git log --graph --oneline：它用于以图形化的方式显示提交历史

举例：

```git
* 4b32587 (HEAD -> master) 更新README文件  
*   5f9459f 合并分支 'feature-x'  
|\    
| * 7d8f3e4 (feature-x) 添加了功能X的实现  
* | 1c002dd 修复了一个小bug  
|/    
* 9fceb02 初始化项目
```

在这个例子中，你可以看到：

- 当前HEAD指向的是`master`分支，最近的提交是“更新README文件”，对应的哈希值是`4b32587`。
- 有一个合并提交`5f9459f`，它将`feature-x`分支合并到了`master`分支上。
- 在合并之前，`feature-x`分支上有一个提交“添加了功能X的实现”，而`master`分支上有一个提交“修复了一个小bug”。
- 项目的初始提交是“初始化项目”，对应的哈希值是`9fceb02`。

## 10.解决分支冲突

合并发生冲突时会有提示，我们可以用git status查看冲突文件，也可以使用git diff来查看具体冲突内容。

修改以后就可以用提交，提交后自动合并，提交前想要中止合并可用git merge --abort来中止

## 11.rebase

简单来说就是将rebase的分支看作基本分支，然后将当前分支与rebase的分支的共同节点后的记录放到基本分支的末端。